"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[594],{8758:function(e,a,s){s.r(a),s.d(a,{default:function(){return R}});var l=s(6768),o=(s(4114),s(4603),s(7566),s(8721),s(5130)),n=s(4232),t=s(144),r=s(4373),u=s(1387);const d=e=>((0,l.Qi)("data-v-93512920"),e=e(),(0,l.jt)(),e),c={class:"container"},i={class:"login-page"},p=d((()=>(0,l.Lk)("p",{class:"logo"},[(0,l.eW)("County"),(0,l.Lk)("span",null,"Projects")],-1))),v={class:"form"},k=d((()=>(0,l.Lk)("h1",null,"Welcome Back!",-1))),m=d((()=>(0,l.Lk)("p",null,"Please enter your details",-1))),w={key:0},L=d((()=>(0,l.Lk)("label",{for:"username"},"Username:",-1))),g=d((()=>(0,l.Lk)("label",{for:"password"},"Password:",-1))),f={key:1,class:"response"},h=d((()=>(0,l.Lk)("div",{class:"image-holder"},[(0,l.Lk)("div",{class:"image"})],-1)));var y={__name:"LoginPage",setup(e){const a=(0,u.rd)(),s=(0,t.KR)({username:"",password:""}),d=(0,t.KR)(!1),y=(0,t.KR)(null);let C="";const b=async()=>{try{C=new URLSearchParams(s.value).toString();const e=await r.A.post("/api/login",C,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});200===e.status&&(localStorage.setItem("jwt",e.data.jwt),console.log(e.data),a.push("/"))}catch(e){y.value="Invalid username or password",d.value=!0,setTimeout((()=>{d.value=!1}),3e3),console.log(e)}};return(e,a)=>((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("div",i,[p,(0,l.Lk)("div",v,[k,m,y.value?((0,l.uX)(),(0,l.CE)("div",w," welcome sa")):(0,l.Q3)("",!0),(0,l.Lk)("form",null,[L,(0,l.bo)((0,l.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":a[0]||(a[0]=e=>s.value.username=e),placeholder:"username",required:""},null,512),[[o.Jo,s.value.username]]),g,(0,l.bo)((0,l.Lk)("input",{onClick:a[1]||(a[1]=e=>d.value=!1),type:"password",id:"password",placeholder:"password","onUpdate:modelValue":a[2]||(a[2]=e=>s.value.password=e),required:""},null,512),[[o.Jo,s.value.password]]),(0,l.Lk)("button",{type:"submit",onClick:(0,o.D$)(b,["prevent"])},"Login")]),d.value?((0,l.uX)(),(0,l.CE)("p",f,(0,n.v_)(y.value),1)):(0,l.Q3)("",!0)])]),h]))}},C=s(1241);const b=(0,C.A)(y,[["__scopeId","data-v-93512920"]]);var _=b;var P={__name:"LoginView",setup(e){return(e,a)=>((0,l.uX)(),(0,l.Wv)(_))}};const j=P;var R=j}}]);
//# sourceMappingURL=about.9c4d8a70.js.map